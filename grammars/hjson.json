{
  "name": "Hjson",
  "scopeName": "source.hjson",
  "fileTypes":
  [
    "hjson"
  ],
  "foldingStartMarker": "(?x:     # turn on extended mode\n              ^    # a line beginning with\n              \\s*    # some optional space\n              [{\\[]  # the start of an object or array\n              (?!    # but not followed by\n              .*   # whatever\n              [}\\]]  # and the close of an object or array\n              ,?   # an optional comma\n              \\s*  # some optional space\n              $    # at the end of the line\n              )\n              |    # ...or...\n              [{\\[]  # the start of an object or array\n              \\s*    # some optional space\n              $    # at the end of the line\n            )",
  "foldingStopMarker": "(?x:   # turn on extended mode\n             ^    # a line beginning with\n             \\s*  # some optional space\n             [}\\]]  # and the close of an object or array\n             )",
  "keyEquivalent": "^~J",
  "patterns":
  [
    { "include": "#rootObject" },
    { "include": "#value" },
    { "include": "#comments" }
  ],
  "repository":
  {
    "value":
    {
      "comment": "the 'value' diagram at http://json.org",
      "patterns":
      [
        { "include": "#string" },
        { "include": "#mstring" },
        { "include": "#ustring" },
        { "include": "#number" },
        { "include": "#object" },
        { "include": "#array" },
        { "include": "#constant" }
      ]
    },
    "rootObject":
    {
      "name": "meta.structure.dictionary.hjson",
      "comment": "a JSON object",
      "begin": "(?=\\s*(([^,\\{\\[\\}\\]\\s]+)|\"(?:[^\"\\\\]|\\\\.)*\")\\s*:)",
      "end": "---none---",
      "beginCaptures": { "0": { "name": "punctuation.definition.dictionary.begin.hjson" } },
      "endCaptures": { "0": { "name": "punctuation.definition.dictionary.end.hjson" } },
      "patterns":
      [
        {
          "include": "#comments"
        },
        {
          "include": "#key-mstring"
        },
        {
          "include": "#key-value"
        },
        {
          "include": "#just-key"
        },
        {
          "include": "#object"
        },
        {
          "include": "#array"
        },
        {
          "include": "#mstring"
        },
        {
          "name": "punctuation.separator.dictionary.key-value.hjson",
          "match": ":"
        },
        {
          "name": "punctuation.separator.dictionary.pair.hjson",
          "match": ","
        }
      ]
    },
    "object":
    {
      "name": "meta.structure.dictionary.hjson",
      "comment": "a JSON object",
      "begin": "\\{",
      "end": "\\}",
      "beginCaptures": { "0": { "name": "punctuation.definition.dictionary.begin.hjson" } },
      "endCaptures": { "0": { "name": "punctuation.definition.dictionary.end.hjson" } },
      "patterns":
      [
        {
          "include": "#comments"
        },
        {
          "include": "#key-mstring"
        },
        {
          "include": "#key-value"
        },
        {
          "include": "#just-key"
        },
        {
          "include": "#object"
        },
        {
          "include": "#array"
        },
        {
          "include": "#mstring"
        },
        {
          "name": "punctuation.separator.dictionary.pair.hjson",
          "match": ","
        }
      ]
    },
    "array":
    {
      "name": "meta.structure.array.hjson",
      "begin": "\\[",
      "end": "\\]",
      "beginCaptures": { "0": { "name": "punctuation.definition.array.begin.hjson" } },
      "endCaptures": { "0": { "name": "punctuation.definition.array.end.hjson" } },
      "patterns":
      [
        {
          "include": "#comments"
        },
        {
          "include": "#value"
        },
        {
          "include": "#mstring"
        },
        {
          "name": "punctuation.separator.array.hjson",
          "match": "(,)"
        },
        {
          "name": "invalid.illegal.expected-array-separator.hjson",
          "match": "[^\\s\\]]"
        }
      ]
    },
    "key-value":
    {
      "match": "((?:[^,\\{\\[\\}\\]\\s]+?)|\"(?:[^\"\\\\]|\\\\.)*?\")\\s*(:)\\s*([^,\\{\\[\\}\\]\\s].*?)$\\n?",
      "captures": {
        "1": {
          "name": "string.quoted.keyname.hjson"
        },
        "2": {
          "name": "punctuation.separator.dictionary.key-value.hjson"
        },
        "3": {
          "patterns": [
            {
              "include": "#value"
            }
          ]
        }
      }
    },
    "key-mstring":
    {
      "contentName": "string.quoted.multiline.hjson",
      "begin": "((?:[^,\\{\\[\\}\\]\\s]+?)|\"(?:[^\"\\\\]|\\\\.)*?\")\\s*(:)\\s*(''')",
      "end": "'''",
      "beginCaptures": {
        "1": {
          "name": "string.quoted.keyname.hjson"
        },
        "2": {
          "name": "punctuation.separator.dictionary.key-value.hjson"
        },
        "3": {
          "name": "punctuation.definition.string.begin.hjson"
        }
      },
      "endCaptures": { "0": { "name": "punctuation.definition.string.end.hjson" } }
    },
    "just-key":
    {
      "match": "((?:[^,\\{\\[\\}\\]\\s]+?)|\"(?:[^\"\\\\]|\\\\.)*?\")\\s*(:)",
      "captures": {
        "1": {
          "name": "string.quoted.keyname.hjson"
        },
        "2": {
          "name": "punctuation.separator.dictionary.key-value.hjson"
        }
      }
    },
    "string":
    {
      "name": "string.quoted.double.hjson",
      "begin": "\"",
      "end": "\"",
      "beginCaptures": { "0": { "name": "punctuation.definition.string.begin.hjson" } },
      "endCaptures": { "0": { "name": "punctuation.definition.string.end.hjson" } },
      "patterns":
      [
        {
          "name": "constant.character.escape.hjson",
          "match": "(?x:        # turn on extended mode\n           \\\\        # a literal backslash\n           (?:         # ...followed by...\n             [\"\\\\/bfnrt]   # one of these characters\n             |         # ...or...\n             u         # a u\n             [0-9a-fA-F]{4}  # and four hex digits\n           )\n           )"
        },
        {
          "name": "invalid.illegal.unrecognized-string-escape.hjson",
          "match": "\\\\."
        }
      ]
    },
    "mstring":
    {
      "name": "string.quoted.multiline.hjson",
      "begin": "'''",
      "end": "'''",
      "beginCaptures": { "0": { "name": "punctuation.definition.string.begin.hjson" } },
      "endCaptures": { "0": { "name": "punctuation.definition.string.end.hjson" } }
    },
    "ustring":
    {
      "name": "string.quoted.none.hjson",
      "match": "\\b([^:,0-9\\-\\{\\[\\}\\]\\s].*)$"
    },
    "number":
    {
      "name": "constant.numeric.hjson",
      "comment": "handles integer and decimal numbers",
      "match": "(?x:     # turn on extended mode\n\t\t\t       -?     # an optional minus\n\t\t\t       (?:\n\t\t\t         0    # a zero\n\t\t\t         |    # ...or...\n\t\t\t         [1-9]  # a 1-9 character\n\t\t\t         \\d*    # followed by zero or more digits\n\t\t\t       )\n\t\t\t       (?:\n\t\t\t         (?:\n\t\t\t         \\.   # a period\n\t\t\t         \\d+  # followed by one or more digits\n\t\t\t         )?\n\t\t\t         (?:\n\t\t\t         [eE]   # an e character\n\t\t\t         [+-]?  # followed by an option +/-\n\t\t\t         \\d+  # followed by one or more digits\n\t\t\t         )?     # make exponent optional\n\t\t\t       )?     # make decimal portion optional\n\t\t\t       )"
    },
    "constant":
    {
      "name": "constant.language.hjson",
      "match": "\\b(?:true|false|null)\\b"
    },
    "comments":
    {
      "patterns":
      [
        {
          "name": "comment.line.hash",
          "match": "(#).*$\\n?",
          "captures": { "1": { "name": "punctuation.definition.comment.hjson" } }
        },
        {
          "name": "comment.block",
          "begin": "/\\*",
          "end": "\\*/",
          "captures": { "0": { "name": "punctuation.definition.comment.hjson" } }
        },
        {
          "name": "comment.line.double-slash",
          "match": "(//).*$\\n?",
          "captures": { "1": { "name": "punctuation.definition.comment.hjson" } }
        }
      ]
    }
  }
}
